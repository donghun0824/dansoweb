/* =========================================
   Danso Unified Design System (Sci-Fi Neon)
   기반: 랜딩 페이지 스타일 + 기존 대시보드 기능
========================================= */

/* 1. 핵심 디자인 변수 선언 (랜딩 페이지 통일) */
:root {
    /* [Color Palette] 랜딩 페이지와 정확히 일치 */
    --bg-deep-navy: #0A0F1F;       /* 메인 배경색 */
    --neon-green: #8BFFB0;         /* 핵심 강조/글로우 색상 */
    --neon-blue: #8BFFB0;     /* 보조 강조 색상 */
    
    --text-bright: #FFFFFF;        /* 기본 텍스트 */
    --text-muted: #94A3B8;         /* 보조 텍스트 */
    
    /* [Glassmorphism] 유리 카드 스타일 정의 */
    --glass-bg: rgba(255, 255, 255, 0.03); /* 매우 투명한 유리 배경 */
    --glass-border: rgba(255, 255, 255, 0.15); /* 얇고 밝은 테두리 */
    --glass-blur: blur(30px); /* 강력한 배경 블러 효과 */
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36); /* 깊이감을 주는 그림자 */
    
    /* [UI Elements] */
    --card-radius: 24px; /* 더 둥글고 현대적인 모서리 */
    --btn-radius: 12px;
    
    /* [Fonts] Outfit을 메인으로 사용하여 넓고 현대적인 느낌 강조 */
    --font-main: 'Outfit', 'Inter', sans-serif;
    --font-mono: 'JetBrains Mono', monospace;
}

/* 2. 기본 설정 및 배경 */
body {
    font-family: var(--font-main);
    background-color: var(--bg-deep-navy);
    /* JS 캔버스 로드 전 기본 배경 그래디언트 (랜딩 페이지 느낌) */
    background-image: radial-gradient(circle at 50% 0%, rgba(76, 159, 255, 0.2) 0%, var(--bg-deep-navy) 60%);
    color: var(--text-bright);
    margin: 0;
    padding: 0;
    min-height: 100vh;
    overflow-x: hidden;
}

/* 배경 입자 애니메이션 캔버스 스타일 (JS 연동 필수) */
#dashboardCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* 컨텐츠 뒤로 배치 */
    pointer-events: none;
}

/* 메인 레이아웃 래퍼 */
.wide-dashboard-wrapper {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 30px;
    position: relative;
    z-index: 1;
}

/* 헤딩 타이포그래피 */
h1, h2, h3 {
    font-weight: 700;
    letter-spacing: -0.02em;
}
h2 {
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    gap: 12px;
    /* 아이콘 색상을 네온으로 강제 적용 */
    & i { filter: drop-shadow(0 0 8px currentColor); }
}

/* =========================================
   [핵심 컴포넌트] Glass Card 재정의
========================================= */
.glass-card {
    background: var(--glass-bg) !important; /* 기존 색상 덮어쓰기 */
    box-shadow: var(--glass-shadow);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur); /* Safari 지원 */
    border: 1px solid var(--glass-border);
    border-radius: var(--card-radius);
    padding: 30px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* 카드 호버 효과: 네온 테두리와 빛 번짐 */
.glass-card:hover {
    border-color: rgba(139, 255, 176, 0.5);
    box-shadow: 0 0 25px rgba(139, 255, 176, 0.2), inset 0 0 20px rgba(139, 255, 176, 0.05);
    transform: translateY(-2px);
}

/* =========================================
   [UI 요소] 버튼 및 입력창
========================================= */

/* 네온 그라데이션 버튼 (랜딩 페이지 스타일) */
.btn-neon {
    background: linear-gradient(135deg, var(--neon-blue), var(--neon-green));
    border: none;
    border-radius: 30px; /* 둥근 캡슐형 */
    padding: 12px 28px;
    color: #000; /* 어두운 텍스트로 대비 강조 */
    font-weight: 700;
    font-family: var(--font-main);
    cursor: pointer;
    box-shadow: 0 0 15px rgba(139, 255, 176, 0.5); /* 강력한 글로우 */
    transition: all 0.3s ease;
    display: inline-flex; align-items: center; gap: 10px;
}

.btn-neon:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(139, 255, 176, 0.8);
    filter: brightness(1.1);
}

/* 입력창 스타일 (투명한 유리 스타일) */
input[type="text"], input[type="number"], textarea {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--btn-radius);
    padding: 14px 20px;
    color: var(--text-bright);
    font-family: var(--font-main);
    transition: all 0.3s ease;
}
input:focus, textarea:focus {
    outline: none;
    border-color: var(--neon-green);
    box-shadow: 0 0 15px rgba(139, 255, 176, 0.3);
    background: rgba(255, 255, 255, 0.1);
}

/* =========================================
   [섹션별 스타일]
========================================= */

/* 1. 헤더 (Header) */
.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 30px;
    margin-bottom: 30px;
    border-bottom: 1px solid var(--glass-border);
}

/* 2. 스크롤링 티커 바 (투명하게 변경하여 배경 투과) */
.scrolling-bar-container {
    width: 100%;
    background: rgba(10, 15, 31, 0.8); /* 배경색 반투명 적용 */
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--glass-border);
    padding: 12px 0;
    overflow: hidden;
    white-space: nowrap;
    position: sticky; top: 0; z-index: 100;
}
.scrolling-bar-track { display: inline-block; animation: scroll-left 60s linear infinite; }
@keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
.scroll-item {
    display: inline-block; padding: 0 25px;
    font-family: var(--font-mono); font-size: 14px;
    border-right: 1px solid rgba(255,255,255,0.1);
}
/* 티커 색상 네온화 */
.scroll-item .name { color: var(--text-muted); }
.scroll-item .change-positive { color: var(--neon-green); text-shadow: 0 0 5px rgba(139, 255, 176, 0.5); }
.scroll-item .change-negative { color: #FF4D4D; text-shadow: 0 0 5px rgba(255, 77, 77, 0.5); }


/* 3. 설정 카드 (Settings Card) */
.settings-card .card-header { border-bottom: 1px solid var(--glass-border); padding-bottom: 20px; margin-bottom: 20px; }
.settings-card h2 i { color: var(--neon-blue) !important; }
#min-score-input {
    font-family: var(--font-mono);
    color: var(--neon-green);
    font-weight: 700;
    text-align: center;
    font-size: 1.1rem;
}

/* 4. 라이브 스캐너 (Live Scanner) */
.status-card h2 i { color: var(--neon-green) !important; }
.status-header {
    font-family: var(--font-mono);
    color: var(--text-muted);
    background: rgba(255,255,255,0.03);
    padding: 15px;
    border-radius: var(--btn-radius);
    margin-bottom: 25px;
}
#scan-status-text { color: var(--neon-green); font-weight: 700; }

/* 티커 태그: 빛나는 알약 형태로 변경 */
.ticker-list { display: flex; flex-wrap: wrap; gap: 12px; }
.ticker-tag {
    background: rgba(139, 255, 176, 0.1);
    border: 1px solid var(--neon-green);
    color: var(--neon-green);
    padding: 8px 16px;
    border-radius: 30px;
    font-family: var(--font-mono);
    font-size: 13px;
    font-weight: 600;
    box-shadow: 0 0 10px rgba(139, 255, 176, 0.2);
    transition: all 0.2s;
    cursor: default;
}
.ticker-tag:hover {
    background: var(--neon-green);
    color: #000;
    box-shadow: 0 0 20px rgba(139, 255, 176, 0.6);
}

/* 5. 시그널 피드 (Signal Feed) */
.signal-feed { display: flex; flex-direction: column; gap: 15px; }
/* 피드 아이템을 얇은 유리 막대 형태로 디자인 */
.signal-item {
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    padding: 15px 20px;
    border-radius: var(--btn-radius);
    transition: all 0.2s;
    cursor: pointer;
}
.signal-item:hover {
    background: rgba(255, 255, 255, 0.07);
    border-color: var(--neon-blue);
}
.signal-main { display: flex; align-items: center; gap: 15px; }
.signal-ticker { font-weight: 700; font-size: 1.1rem; }
.signal-score {
    font-family: var(--font-mono);
    color: var(--neon-green);
    font-weight: 700;
    text-shadow: 0 0 8px var(--neon-green);
}
.empty-state {
    text-align: center; padding: 40px; color: var(--text-muted); font-style: italic;
    background: rgba(255,255,255,0.02); border-radius: var(--btn-radius);
}

/* 6. 커뮤니티 인텔 (Community Intel) */
.community-section h2 i { color: var(--neon-blue) !important; }
/* 포스트 카드 디자인 */
.post-card {
    background: rgba(255, 255, 255, 0.03);
    border-left: 3px solid var(--neon-blue); /* 왼쪽 네온 액센트 */
    padding: 15px 20px;
    border-radius: 8px;
    margin-bottom: 15px;
}
.post-author { color: var(--neon-blue); font-weight: 700; margin-bottom: 5px; font-size: 0.9rem;}
.post-content { color: var(--text-bright); line-height: 1.5; }
.post-time { font-size: 0.8rem; color: var(--text-muted); text-align: right; margin-top: 5px;}


/* =========================================
   [모달 팝업] (Modal)
========================================= */
.modal-overlay {
    display: none; /* JS로 제어 */
    position: fixed; z-index: 2000; left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* 배경을 더 어둡게 눌러줌 */
    backdrop-filter: blur(15px);
}

/* 모달 컨텐츠도 Glass Card 스타일 적용하되, 가독성을 위해 조금 더 불투명하게 */
.modal-content.glass-card {
    background: rgba(10, 15, 31, 0.9) !important; /* 더 진한 배경 */
    margin: 5vh auto;
    width: 90%; max-width: 800px;
    padding: 0; /* 패딩 초기화 후 내부에서 재설정 */
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
}
.modal-header {
    padding: 25px 30px;
    border-bottom: 1px solid var(--glass-border);
    display: flex; justify-content: space-between; align-items: center;
}
.close-button { color: var(--text-muted); font-size: 2rem; cursor: pointer; transition: color 0.2s;}
.close-button:hover { color: var(--neon-green); }

/* 모달 탭 스타일링 */
.modal-tabs { display: flex; border-bottom: 1px solid var(--glass-border); background: rgba(0,0,0,0.2); }
.tab-button {
    flex: 1; padding: 15px; cursor: pointer;
    background: none; border: none;
    color: var(--text-muted); font-weight: 600; font-family: var(--font-main);
    transition: all 0.3s;
    border-bottom: 3px solid transparent;
}
.tab-button.active {
    color: var(--neon-green);
    border-bottom-color: var(--neon-green);
    background: rgba(139, 255, 176, 0.05);
    text-shadow: 0 0 10px rgba(139, 255, 176, 0.3);
}
.modal-body { padding: 30px; min-height: 400px; }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.3s ease; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }