<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danso Dashboard | AI Scalping</title>
    
    <!-- Icons & Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <!-- ðŸŒŒ 1. ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ ìº”ë²„ìŠ¤ -->
    <canvas id="dashboard-canvas"></canvas>

    <!-- 2. ìƒë‹¨ í‹°ì»¤ -->
    <div class="scrolling-bar-container">
        <div class="scrolling-bar-track" id="scrolling-bar-track">
            <!-- JS Load -->
        </div>
    </div>

    <!-- 3. ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì˜ì—­ -->
    <div class="dashboard-wrapper">
        
        <!-- í—¤ë”: ë¡œê³  & ì•Œë¦¼ -->
        <header class="dashboard-header">
            <div class="logo-area" style="display: flex; align-items: center; gap: 15px;">
                <img src="{{ url_for('static', filename='images/danso_logo.png') }}" alt="Danso" style="height: 40px;">
                <span style="font-family: 'Outfit'; font-size: 1.5rem; font-weight: 700;">Danso AI</span>
            </div>
            <div class="actions">
                <button id="subscribe-btn" class="btn-neon">
                    <i class="fas fa-bell"></i> Enable Alerts
                </button>
                <a href="/logout" style="color: #ff4d4d; text-decoration: none; margin-left: 20px; font-weight: 600;">Logout</a>
            </div>
        </header>

        <!-- ì„¹ì…˜ 1: ì•Œë¦¼ ì„¤ì • (Glass Card) -->
        <div class="glass-card">
            <h2><i class="fas fa-sliders-h"></i> AI Sensitivity</h2>
            <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                <p style="color: var(--text-muted); margin: 0; flex: 1;">
                    Only receive alerts with an AI Score <strong>above</strong> this threshold.
                </p>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="number" id="min-score-input" placeholder="0" min="0" max="99" style="width: 80px; text-align: center; font-weight: bold; font-size: 1.1rem;">
                    <span style="color: var(--neon-green);">% or higher</span>
                    <button id="save-score-btn" class="btn-neon">Save</button>
                </div>
            </div>
        </div>

        <!-- ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (2ì»¬ëŸ¼) -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px;">
            
            <!-- ì„¹ì…˜ 2: ìŠ¤ìºë„ˆ ìƒíƒœ -->
            <div class="glass-card">
                <h2><i class="fas fa-radar"></i> Live Scanner</h2>
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px; font-family: 'JetBrains Mono'; font-size: 0.9rem; color: var(--neon-cyan);">
                    <span id="scan-status-text">Status: Active</span>
                    <span id="scan-watching-count">Watching: 0</span>
                </div>
                <div class="ticker-list" id="ticker-list-container">
                    <span class="ticker-tag">Loading...</span>
                </div>
            </div>

            <!-- ì„¹ì…˜ 3: ì‹ í˜¸ í”¼ë“œ -->
            <div class="glass-card">
                <h2><i class="fas fa-bolt"></i> Signal Feed</h2>
                <div id="signal-feed-container" style="max-height: 300px; overflow-y: auto;">
                    <!-- JS will inject .signal-item here -->
                    <div class="empty-state" style="padding: 20px; text-align: center; color: var(--text-muted);">
                        Scanning market data...
                    </div>
                </div>
            </div>

        </div>

        <!-- ì„¹ì…˜ 4: ì»¤ë®¤ë‹ˆí‹° (Full Width) -->
        <div class="glass-card">
            <h2><i class="fas fa-users"></i> Community Intel</h2>
            <form id="post-form" onsubmit="return false;" style="display: flex; gap: 15px; margin-bottom: 20px;">
                <input type="text" name="author" placeholder="Agent Name" style="width: 200px;">
                <textarea name="content" placeholder="Share market intelligence..." rows="1"></textarea>
                <button id="post-submit-btn" class="btn-neon" style="width: auto;"><i class="fas fa-paper-plane"></i></button>
            </form>
            <div id="community-feed-container">
                <!-- Posts go here -->
            </div>
        </div>

    </div>

    <!-- (ëª¨ë‹¬ ì½”ë“œëŠ” ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ë˜ ìŠ¤íƒ€ì¼ë§Œ CSSë¡œ ì œì–´) -->
    <div id="ticker-modal" class="modal-overlay">
        <!-- ... -->
    </div>

    <!-- ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ (ê¸°ì¡´ landing.js ë¡œì§ ìž¬ì‚¬ìš©) -->
    <script src="{{ url_for('static', filename='js/app.js') }}" type="module"></script>
</body>
</html>